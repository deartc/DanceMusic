/*I satsified the requirements by doing the following:  Created a relational database schema with a minimum of 3 tables.
At least 2 of the tables  contain 4 or more columns. Each table is related to one or more of the other tables via a primary key/foreign key relationship.  */

/*I satisfied the requirements Two of the tables have a many-to-many relationship and two of the tables have a one-to-many relationship.*/

/*The following data types are present somewhere in the table definitions: DATETIME, INT, VARCHAR */


drop database music;
CREATE DATABASE IF NOT EXISTS music;
use music;

CREATE TABLE "Playlist"
(
    "PlaylistId" INT NOT NULL,
    "Name" VARCHAR(120),
    CONSTRAINT "PK_Playlist" PRIMARY KEY  ("PlaylistId")
);

CREATE TABLE "PlaylistTrack"
(
    "PlaylistId" INT NOT NULL,
    "TrackId" INT NOT NULL,
    CONSTRAINT "PK_PlaylistTrack" PRIMARY KEY  ("PlaylistId", "TrackId")
);

CREATE TABLE "Track"
(
    "TrackId" INT NOT NULL,
    "Name" VARCHAR(200) NOT NULL,
    "AlbumId" INT,
    "MediaTypeId" INT NOT NULL,
    "GenreId" INT,
    "Milliseconds" INT NOT NULL,
    CONSTRAINT "PK_Track" PRIMARY KEY  ("TrackId")
    
  


CREATE TABLE Artist (
  ArtistId int IDENTITY(1,1) NOT NULL PRIMARY KEY,
  ArtistName nvarchar(255) NOT NULL,
  ActiveFrom date
);
CREATE TABLE Genre (
  GenreId int IDENTITY(1,1) NOT NULL PRIMARY KEY,
  Genre nvarchar(50) NOT NULL
);
CREATE TABLE Album (
  AlbumId int IDENTITY(1,1) NOT NULL PRIMARY KEY,
  AlbumName nvarchar(255) NOT NULL,
  TimeDate date NOT NULL,
  ArtistId int NOT NULL,
  GenreId int NOT NULL
  CONSTRAINT FK_Albums_Artists FOREIGN KEY (ArtistId)     
    REFERENCES dbo.Artists (ArtistId) ;    
    
ALTER TABLE Album
ADD CONSTRAINT FK_Albums_Genres FOREIGN KEY (GenreId)     
	REFERENCES dbo.Genres (GenreId);


